<html>
<head>
    <script src="qrc:///qtwebchannel/qwebchannel.js"></script>
    <style>
        body {
            overscroll-behavior: none;
        }
    </style>
</head>

<body>

<script>
    window.__app_data__ = window.__app_data__ || {};
    new QWebChannel(qt.webChannelTransport, (channel) => {
        window.__app_data__.channel = channel.objects.handler;
        console.log(channel);
    });

    window.__app_data__.test = async () => {
        const t0 = performance.now()
        const result = await window.__app_data__.channel.message({
            array: [1, 2, 3],
            string: 'string',
            obj: {
                x: 1, y: [1, 2, 3],
            },
        });
        console.log('Got result:', result)
        console.log('Time:', performance.now() - t0, 'ms');
    }
</script>


<button onclick="window.__app_data__.test()">Test</button>

</body>
</html>